//set depot vehicle width to 32px to avoid overlap
train_width_32_px = 1;
//align train properly in depot window
traininfo_y_offset = 2;

grf {
        grfid: "JTM\03";
        name: string(STR_GRF_NAME);
        desc: string(STR_GRF_DESCRIPTION);
        version: 1;
        min_compatible_version: 1;
}

///////////////
// TEMPLATES //
///////////////

template template_purchase(x, y) {
    //[left_x, upper_y, width, height, offset_x, offset_y]
    [x,         y,          71,         13,         -35,        -8]
}

template template_32x15(x, y) {
    //[left_x, upper_y, width, height, offset_x, offset_y]
    [x,         y,          8,          22,         -3,         -13]
    [x + 9,     y,          21,         18,         -13,        -10]
    [x + 31,    y,          32,         15,         -14,        -11]
    [x + 64,    y,          21,         18,         -9,         -12]
    [x + 86,    y,          8,          22,         -3,         -13]
    [x + 95,    y,          21,         18,         -13,        -10]
    [x + 117,   y,          32,         15,         -14,        -11]
    [x + 150,   y,          21,         18,         -8,         -11]
}

template template_32x15_reverse(x, y) {
    //[left_x, upper_y, width, height, offset_x, offset_y]
    [x + 86,    y,          8,          22,         -3,         -13]
    [x + 95,    y,          21,         18,         -13,        -10]
    [x + 117,   y,          32,         15,         -14,        -11]
    [x + 150,   y,          21,         18,         -9,         -12]
    [x,         y,          8,          22,         -3,         -13]
    [x + 9,     y,          21,         18,         -13,        -10]
    [x + 31,    y,          32,         15,         -14,        -11]
    [x + 64,    y,          21,         18,         -8,         -11]
}

////////////////////
// RAILTYPE TABLE //
////////////////////

railtypetable {
    ELRL
}

////////////////
// SPRITESETS //
////////////////

// 100 Series

spriteset (spriteset_purchase_mei100, "gfx/meitetsu_sprites.png") {
	template_purchase(498, 10)
}

spriteset (spriteset_mei100_Mc1, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 42)
}

spriteset (spriteset_mei100_Mc1_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 42)
}

spriteset (spriteset_mei100_M2, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 10)
}

spriteset (spriteset_mei100_Tc1, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 42)
}

spriteset (spriteset_mei100_T2, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 10)
}

// 200 Series

spriteset (spriteset_purchase_mei200, "gfx/meitetsu_sprites.png") {
	template_purchase(498, 74)
}

spriteset (spriteset_mei200_Mc1, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 106)
}

spriteset (spriteset_mei200_Mc1_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 106)
}

spriteset (spriteset_mei200_M2, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 74)
}

spriteset (spriteset_mei200_Tc1, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 106)
}

spriteset (spriteset_mei200_T2, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 74)
}

// 300 Series

spriteset (spriteset_purchase_mei300, "gfx/meitetsu_sprites.png") {
	template_purchase(498, 138)
}

spriteset (spriteset_mei300_Tc1, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 170)
}

spriteset (spriteset_mei300_Tc1_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 170)
}

spriteset (spriteset_mei300_M1, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 138)
}

spriteset (spriteset_mei300_Tc2, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 170)
}

spriteset (spriteset_mei300_M2, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 138)
}

// 6000 Series

spriteset (spriteset_purchase_mei6000, "gfx/meitetsu_sprites.png") {
	template_purchase(498, 202)
}

spriteset (spriteset_mei6000_Mc_Type1, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 234)
}

spriteset (spriteset_mei6000_Mc_Type1_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 234)
}

spriteset (spriteset_mei6000_Mc_Type2, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 266)
}

spriteset (spriteset_mei6000_Mc_Type2_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 266)
}

spriteset (spriteset_mei6000_Mc_Type1_Renewal, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 330)
}

spriteset (spriteset_mei6000_Mc_Type1_Renewal_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 330)
}

spriteset (spriteset_mei6000_M, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 202)
}

spriteset (spriteset_mei6000_M_Renewal, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 298)
}

spriteset (spriteset_mei6000_Tc_Type1, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 234)
}

spriteset (spriteset_mei6000_Tc_Type2, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 266)
}

spriteset (spriteset_mei6000_Tc_Type1_Renewal, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 330)
}

spriteset (spriteset_mei6000_T, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 202)
}

spriteset (spriteset_mei6000_T_Renewal, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 298)
}

// 6500 Series

spriteset (spriteset_purchase_mei6500, "gfx/meitetsu_sprites.png") {
	template_purchase(498, 394)
}

spriteset (spriteset_mei6500_M_Type1, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 362)
}

spriteset (spriteset_mei6500_T_Type1, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 362)
}

spriteset (spriteset_mei6500_M_Type2, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 394)
}

spriteset (spriteset_mei6500_T_Type2, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 394)
}

spriteset (spriteset_mei6500_Mc_Type1, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 426)
}

spriteset (spriteset_mei6500_Mc_Type1_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 426)
}

spriteset (spriteset_mei6500_Tc_Type1, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 426)
}

spriteset (spriteset_mei6500_Mc_Type2, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 458)
}

spriteset (spriteset_mei6500_Mc_Type2_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 458)
}

spriteset (spriteset_mei6500_Tc_Type2, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 458)
}

// 5000 Series

spriteset (spriteset_purchase_mei5000, "gfx/meitetsu_sprites.png") {
	template_purchase(498, 490)
}

spriteset (spriteset_mei5000_Tc1, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 522)
}

spriteset (spriteset_mei5000_Tc1_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 522)
}

spriteset (spriteset_mei5000_M1, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 490)
}

spriteset (spriteset_mei5000_Tc2, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 522)
}

spriteset (spriteset_mei5000_M2, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 490)
}

// 3500 Series

spriteset (spriteset_purchase_mei3500, "gfx/meitetsu_sprites.png") {
	template_purchase(498, 554)
}

spriteset (spriteset_mei3500_Tc1, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 586)
}

spriteset (spriteset_mei3500_Tc1_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 586)
}

spriteset (spriteset_mei3500_M1, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 554)
}

spriteset (spriteset_mei3500_Tc2, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 586)
}

spriteset (spriteset_mei3500_M2, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 554)
}

// 3700 Series

spriteset (spriteset_purchase_mei3700, "gfx/meitetsu_sprites.png") {
	template_purchase(498, 618)
}

spriteset (spriteset_mei3700_Tc1_Standard, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 650)
}

spriteset (spriteset_mei3700_Tc1_Standard_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 650)
}

spriteset (spriteset_mei3700_M1_Standard, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 618)
}

spriteset (spriteset_mei3700_Tc2_Standard, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 650)
}

spriteset (spriteset_mei3700_M2_Standard, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 618)
}

spriteset (spriteset_mei3700_Tc1_ST13, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 714)
}

spriteset (spriteset_mei3700_Tc1_ST13_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 714)
}

spriteset (spriteset_mei3700_M1_ST13, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 682)
}

spriteset (spriteset_mei3700_Tc2_ST13, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 714)
}

spriteset (spriteset_mei3700_M2_ST13, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 682)
}

spriteset (spriteset_mei3700_Tc1_ST16, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 778)
}

spriteset (spriteset_mei3700_Tc1_ST16_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 778)
}

spriteset (spriteset_mei3700_M1_ST16, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 746)
}

spriteset (spriteset_mei3700_Tc2_ST16, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 778)
}

spriteset (spriteset_mei3700_M2_ST16, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 746)
}

spriteset (spriteset_mei3700_Tc1_ST17, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 842)
}

spriteset (spriteset_mei3700_Tc1_ST17_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 842)
}

spriteset (spriteset_mei3700_M1_ST17, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 810)
}

spriteset (spriteset_mei3700_Tc2_ST17, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 842)
}

spriteset (spriteset_mei3700_M2_ST17, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 810)
}

// 3100 Series

spriteset (spriteset_purchase_mei3100, "gfx/meitetsu_sprites.png") {
	template_purchase(498, 682)
}

spriteset (spriteset_mei3100_Tc_Standard, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 874)
}

spriteset (spriteset_mei3100_Tc_Standard_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 874)
}

spriteset (spriteset_mei3100_Mc_Standard, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 874)
}

spriteset (spriteset_mei3100_Tc_Express, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 906)
}

spriteset (spriteset_mei3100_Tc_Express_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 906)
}

spriteset (spriteset_mei3100_Mc_Express, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 906)
}

// 3300 Series / 3150 Series 

spriteset (spriteset_purchase_mei3300, "gfx/meitetsu_sprites.png") {
	template_purchase(498, 938)
}

spriteset (spriteset_mei3300_Tc_Original, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 970)
}

spriteset (spriteset_mei3300_Tc_Original_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 970)
}

spriteset (spriteset_mei3300_M_Original, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 938)
}

spriteset (spriteset_mei3300_T_Original, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 938)
}

spriteset (spriteset_mei3300_Mc_Original, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 970)
}

spriteset (spriteset_mei3300_Tc_New, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1034)
}

spriteset (spriteset_mei3300_Tc_New_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 1034)
}

spriteset (spriteset_mei3300_M_New, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1002)
}

spriteset (spriteset_mei3300_T_New, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 1002)
}

spriteset (spriteset_mei3300_Mc_New, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 1034)
}

spriteset (spriteset_mei3300_Tc_Eco08, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1098)
}

spriteset (spriteset_mei3300_Tc_Eco08_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 1098)
}

spriteset (spriteset_mei3300_M_Eco08, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1066)
}

spriteset (spriteset_mei3300_T_Eco08, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 1066)
}

spriteset (spriteset_mei3300_Mc_Eco08, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 1098)
}

spriteset (spriteset_mei3300_Tc_Eco09, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1162)
}

spriteset (spriteset_mei3300_Tc_Eco09_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 1162)
}

spriteset (spriteset_mei3300_M_Eco09, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1130)
}

spriteset (spriteset_mei3300_T_Eco09, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 1130)
}

spriteset (spriteset_mei3300_Mc_Eco09, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 1162)
}

spriteset (spriteset_mei3300_Tc_Eco10, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1226)
}

spriteset (spriteset_mei3300_Tc_Eco10_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 1226)
}

spriteset (spriteset_mei3300_M_Eco10, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1194)
}

spriteset (spriteset_mei3300_T_Eco10, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 1194)
}

spriteset (spriteset_mei3300_Mc_Eco10, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 1226)
}

spriteset (spriteset_mei3300_Tc_Eco11, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1290)
}

spriteset (spriteset_mei3300_Tc_Eco11_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 1290)
}

spriteset (spriteset_mei3300_M_Eco11, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1258)
}

spriteset (spriteset_mei3300_T_Eco11, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 1258)
}

spriteset (spriteset_mei3300_Mc_Eco11, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 1290)
}

spriteset (spriteset_mei3300_Tc_Eco12, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1354)
}

spriteset (spriteset_mei3300_Tc_Eco12_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 1354)
}

spriteset (spriteset_mei3300_M_Eco12, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1322)
}

spriteset (spriteset_mei3300_T_Eco12, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 1322)
}

spriteset (spriteset_mei3300_Mc_Eco12, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 1354)
}

spriteset (spriteset_mei3300_Tc_Eco13, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1418)
}

spriteset (spriteset_mei3300_Tc_Eco13_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 1418)
}

spriteset (spriteset_mei3300_M_Eco13, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1386)
}

spriteset (spriteset_mei3300_T_Eco13, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 1386)
}

spriteset (spriteset_mei3300_Mc_Eco13, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 1418)
}

spriteset (spriteset_mei3300_Tc_Eco14, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1482)
}

spriteset (spriteset_mei3300_Tc_Eco14_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 1482)
}

spriteset (spriteset_mei3300_M_Eco14, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1450)
}

spriteset (spriteset_mei3300_T_Eco14, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 1450)
}

spriteset (spriteset_mei3300_Mc_Eco14, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 1482)
}

// 4000 Series

spriteset (spriteset_purchase_mei4000, "gfx/meitetsu_sprites.png") {
	template_purchase(498, 1514)
}

spriteset (spriteset_mei4000_Tc1, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1546)
}

spriteset (spriteset_mei4000_Tc1_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 1546)
}

spriteset (spriteset_mei4000_M1, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1514)
}

spriteset (spriteset_mei4000_Tc2, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 1546)
}

spriteset (spriteset_mei4000_M2, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 1514)
}

// 9500 Series / 9100 Series

spriteset (spriteset_purchase_mei9500, "gfx/meitetsu_sprites.png") {
	template_purchase(498, 1578)
}

spriteset (spriteset_mei9500_Mc, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1610)
}

spriteset (spriteset_mei9500_Mc_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 1610)
}

spriteset (spriteset_mei9500_T, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1578)
}

spriteset (spriteset_mei9500_Tc, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 1610)
}

spriteset (spriteset_mei9500_M, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 1578)
}

// 4000 Series

spriteset (spriteset_purchase_mei1000, "gfx/meitetsu_sprites.png") {
	template_purchase(498, 1642)
}

spriteset (spriteset_mei1000_Tc1_Standard, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1674)
}

spriteset (spriteset_mei1000_Tc1_Standard_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 1674)
}

spriteset (spriteset_mei1000_M1_Standard, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1642)
}

spriteset (spriteset_mei1000_Tc2_Standard, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 1674)
}

spriteset (spriteset_mei1000_M2_Standard, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 1642)
}

spriteset (spriteset_mei1000_Tc1_BL, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1738)
}

spriteset (spriteset_mei1000_Tc1_BL_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 1738)
}

spriteset (spriteset_mei1000_M1_BL, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1706)
}

spriteset (spriteset_mei1000_Tc2_BL, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 1738)
}

spriteset (spriteset_mei1000_M2_BL, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 1706)
}

// 1200 Series

spriteset (spriteset_purchase_mei1200, "gfx/meitetsu_sprites.png") {
	template_purchase(498, 1770)
}

spriteset (spriteset_mei1200_T_Original, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1770)
}

spriteset (spriteset_mei1200_M_Original, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 1770)
}

spriteset (spriteset_mei1200_Tc_Original, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(10, 1802)
}

spriteset (spriteset_mei1000_Tc1_New, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 1834)
}

spriteset (spriteset_mei1000_Tc1_New_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 1866)
}

spriteset (spriteset_mei1000_M1_New, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 1802)
}

spriteset (spriteset_mei1200_T_New, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1834)
}

spriteset (spriteset_mei1200_M_New, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 1834)
}

spriteset (spriteset_mei1200_Tc_New, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(10, 1866)
}

// 1230 Series

spriteset (spriteset_mei1230_M_Original, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1898)
}

spriteset (spriteset_mei1230_Mc_Original, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 1802)
}

spriteset (spriteset_mei1230_M_New, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 1898)
}

spriteset (spriteset_mei1230_Mc_New, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 1866)
}

// 1380 Series

spriteset (spriteset_purchase_mei1380, "gfx/meitetsu_sprites.png") {
	template_purchase(498, 1930)
}

spriteset (spriteset_mei1380_M, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1930)
}

spriteset (spriteset_mei1380_T, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 1930)
}

spriteset (spriteset_mei1380_Tc, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1962)
}

spriteset (spriteset_mei1380_Mc, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 1962)
}

spriteset (spriteset_mei1380_Tc_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 1962)
}

// 1800 Series

spriteset (spriteset_purchase_mei1800, "gfx/meitetsu_sprites.png") {
	template_purchase(498, 1898)
}

spriteset (spriteset_mei1800_Tc_Original, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 1994)
}

spriteset (spriteset_mei1800_Mc_Original, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 1994)
}

spriteset (spriteset_mei1800_Tc_Original_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 1994)
}

spriteset (spriteset_mei1800_Tc_New, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 2026)
}

spriteset (spriteset_mei1800_Mc_New, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 2026)
}

spriteset (spriteset_mei1800_Tc_New_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 2026)
}

// 1850 Series

spriteset (spriteset_purchase_mei1850, "gfx/meitetsu_sprites.png") {
	template_purchase(620, 1898)
}

spriteset (spriteset_mei1850_Tc_Original, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 2058)
}

spriteset (spriteset_mei1850_Mc_Original, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 2058)
}

spriteset (spriteset_mei1850_Tc_Original_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 2058)
}

spriteset (spriteset_mei1850_Tc_New, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 2090)
}

spriteset (spriteset_mei1850_Mc_New, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 2090)
}

spriteset (spriteset_mei1850_Tc_New_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 2090)
}

// 2000 Series

spriteset (spriteset_purchase_mei2000, "gfx/meitetsu_sprites.png") {
	template_purchase(498, 2122)
}

spriteset (spriteset_mei2000_Tc, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 2154)
}

spriteset (spriteset_mei2000_Tc_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 2154)
}

spriteset (spriteset_mei2000_T, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 2122)
}

spriteset (spriteset_mei2000_Mc, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 2154)
}

spriteset (spriteset_mei2000_M, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 2122)
}

// 2200 Series

spriteset (spriteset_purchase_mei2200, "gfx/meitetsu_sprites.png") {
	template_purchase(498, 2314)
}

spriteset (spriteset_mei2200_Mc, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 2250)
}

spriteset (spriteset_mei2200_Mc_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 2250)
}

spriteset (spriteset_mei2200_T, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 2250)
}

// 1700 Series

spriteset (spriteset_purchase_mei1700, "gfx/meitetsu_sprites.png") {
	template_purchase(498, 2282)
}

spriteset (spriteset_mei1700_Mc_Original, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 2186)
}

spriteset (spriteset_mei1700_Mc_Original_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 2186)
}

spriteset (spriteset_mei1700_T_Original, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 2186)
}

spriteset (spriteset_mei1700_Mc_New, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 2218)
}

spriteset (spriteset_mei1700_Mc_New_nolights, "gfx/meitetsu_sprites.png") {
	template_32x15(498, 2218)
}

spriteset (spriteset_mei1700_T_New, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 2218)
}

// 2300 Series

spriteset (spriteset_mei2300_T, "gfx/meitetsu_sprites.png") {
	template_32x15(10, 2282)
}

spriteset (spriteset_mei2300_M, "gfx/meitetsu_sprites.png") {
	template_32x15(254, 2282)
}

spriteset (spriteset_mei2300_Mc, "gfx/meitetsu_sprites.png") {
	template_32x15_reverse(254, 2314)
}

//////////////
// SWITCHES //
//////////////

// 100 Series (4 Cars)

switch (FEAT_TRAINS, SELF, switch_spriteset_mei100_lights, position_in_consist) {
    0: return spriteset_mei100_Mc1;
    return spriteset_mei100_Mc1_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei100_4, extra_callback_info1) {
    1..3: return item_mei100_4;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei100_4, position_in_vehid_chain % 4) {
    1..2: return 148;
    return 130; //default
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei100_4, position_in_vehid_chain % 4) {
    0: switch_spriteset_mei100_lights;
    1: spriteset_mei100_T2;
    2: spriteset_mei100_M2;
    3: spriteset_mei100_Tc1;
}

// 100 Series (6 Cars)

switch (FEAT_TRAINS, SELF, switch_articulated_mei100_6, extra_callback_info1) {
    1..5: return item_mei100_6;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei100_6, position_in_vehid_chain % 6) {
    1: return 140;
    2..3: return 148;
    4: return 140;
    return 130; //default
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei100_6, position_in_vehid_chain % 6) {
    0: switch_spriteset_mei100_lights;
    1: spriteset_mei100_T2;
    2: spriteset_mei100_M2;
    3: spriteset_mei100_T2;
    4: spriteset_mei100_M2;
    5: spriteset_mei100_Tc1;
}

// 200 Series (6 Cars)

switch (FEAT_TRAINS, SELF, switch_spriteset_mei200_lights, position_in_consist) {
    0: return spriteset_mei200_Mc1;
    return spriteset_mei200_Mc1_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei200_6, extra_callback_info1) {
    1..5: return item_mei200_6;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei200_6, position_in_vehid_chain % 6) {
    1..4: return 148;
    return 138; //default
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei200_6, position_in_vehid_chain % 6) {
    0: switch_spriteset_mei200_lights;
    1: spriteset_mei200_T2;
    2: spriteset_mei200_M2;
    3: spriteset_mei200_T2;
    4: spriteset_mei200_M2;
    5: spriteset_mei200_Tc1;
}

// 300 Series (4 Cars)

switch (FEAT_TRAINS, SELF, switch_spriteset_mei300_lights, position_in_consist) {
    0: return spriteset_mei300_Tc1;
    return spriteset_mei300_Tc1_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei300_4, extra_callback_info1) {
    1..3: return item_mei300_4;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei300_4, position_in_vehid_chain % 4) {
    1..2: return 135;
    return 130; //default
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei300_4, position_in_vehid_chain % 4) {
    0: switch_spriteset_mei300_lights;
    1: spriteset_mei300_M1;
    2: spriteset_mei300_M2;
    3: spriteset_mei300_Tc2;
}

// 6000 Series (2 Cars)

switch (FEAT_TRAINS, SELF, switch_mei6000_2_cargo_subtype_text, cargo_subtype) {
    0: return string(STR_MEI6000_2_SUBTYPE_RANDOM);
    1: return string(STR_MEI6000_2_SUBTYPE_TYPE1);
    2: return string(STR_MEI6000_2_SUBTYPE_TYPE1_RENEWAL);
    3: return string(STR_MEI6000_2_SUBTYPE_TYPE2);
    return CB_RESULT_NO_TEXT;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6000_Type1_lights, position_in_consist) {
    0: return spriteset_mei6000_Mc_Type1;
    return spriteset_mei6000_Mc_Type1_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6000_Type1_Renewal_lights, position_in_consist) {
    0: return spriteset_mei6000_Mc_Type1_Renewal;
    return spriteset_mei6000_Mc_Type1_Renewal_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6000_Type2_lights, position_in_consist) {
    0: return spriteset_mei6000_Mc_Type2;
    return spriteset_mei6000_Mc_Type2_nolights; // only the vehicle at the front is lit up
}

random_switch (FEAT_TRAINS, SELF, switch_spriteset_mei6000_Mc_random) {
    2: switch_spriteset_mei6000_Type1_lights;
    2: switch_spriteset_mei6000_Type1_Renewal_lights;
    2: switch_spriteset_mei6000_Type2_lights;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6000_Mc_stage3, cargo_subtype == 2) {
    1: switch_spriteset_mei6000_Type1_Renewal_lights;
    switch_spriteset_mei6000_Type2_lights;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6000_Mc_stage2, cargo_subtype == 1) {
    1: switch_spriteset_mei6000_Type1_lights;
    switch_spriteset_mei6000_Mc_stage3;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6000_Mc_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei6000_Mc_random;
    switch_spriteset_mei6000_Mc_stage2;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(1), switch_spriteset_mei6000_2_Tc_random) {
    dependent: switch_spriteset_mei6000_Mc_random;
    2: spriteset_mei6000_Tc_Type1;
    2: spriteset_mei6000_Tc_Type1_Renewal;
    2: spriteset_mei6000_Tc_Type2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6000_Tc_stage3, cargo_subtype == 2) {
    1: spriteset_mei6000_Tc_Type1_Renewal;
    spriteset_mei6000_Tc_Type2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6000_Tc_stage2, cargo_subtype == 1) {
    1: spriteset_mei6000_Tc_Type1;
    switch_spriteset_mei6000_Tc_stage3;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6000_2_Tc_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei6000_2_Tc_random;
    switch_spriteset_mei6000_Tc_stage2;
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei6000_2, extra_callback_info1) {
    1: return item_mei6000_2;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei6000_2, position_in_vehid_chain % 2) {
    return 130; //default
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6000_2, position_in_vehid_chain % 2) {
    0: switch_spriteset_mei6000_Mc_stage1;
    1: switch_spriteset_mei6000_2_Tc_stage1;
}

// 6000 Series (4 Cars)

switch (FEAT_TRAINS, SELF, switch_mei6000_4_cargo_subtype_text, cargo_subtype) {
    0: return string(STR_MEI6000_4_SUBTYPE_RANDOM);
    1: return string(STR_MEI6000_4_SUBTYPE_TYPE1);
    2: return string(STR_MEI6000_4_SUBTYPE_TYPE1_RENEWAL);
    3: return string(STR_MEI6000_4_SUBTYPE_TYPE2);
    return CB_RESULT_NO_TEXT;
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei6000_4, extra_callback_info1) {
    1..3: return item_mei6000_4;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei6000_4, position_in_vehid_chain % 4) {
    return 130; //default
}

random_switch (FEAT_TRAINS, FORWARD_SELF(3), switch_spriteset_mei6000_4_Tc_random) {
    dependent: switch_spriteset_mei6000_Mc_random;
    2: spriteset_mei6000_Tc_Type1;
    2: spriteset_mei6000_Tc_Type1_Renewal;
    2: spriteset_mei6000_Tc_Type2;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(1), switch_spriteset_mei6000_T_random) {
    dependent: switch_spriteset_mei6000_Mc_random;
    2: spriteset_mei6000_T;
    2: spriteset_mei6000_T_Renewal;
    2: spriteset_mei6000_T;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(2), switch_spriteset_mei6000_M_random) {
    dependent: switch_spriteset_mei6000_Mc_random;
    2: spriteset_mei6000_M;
    2: spriteset_mei6000_M_Renewal;
    2: spriteset_mei6000_M;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6000_T_stage2, cargo_subtype == 2) {
    1: spriteset_mei6000_T_Renewal;
    return spriteset_mei6000_T;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6000_M_stage2, cargo_subtype == 2) {
    1: spriteset_mei6000_M_Renewal;
    return spriteset_mei6000_M;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6000_T_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei6000_T_random;
    switch_spriteset_mei6000_T_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6000_M_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei6000_M_random;
    switch_spriteset_mei6000_M_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6000_4_Tc_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei6000_4_Tc_random;
    switch_spriteset_mei6000_Tc_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6000_4, position_in_vehid_chain % 4) {
    0: switch_spriteset_mei6000_Mc_stage1;
    1: switch_spriteset_mei6000_T_stage1;
    2: switch_spriteset_mei6000_M_stage1;
    3: switch_spriteset_mei6000_4_Tc_stage1;
}

// 6500 Series (4 Car)

switch (FEAT_TRAINS, SELF, switch_mei6500_4_cargo_subtype_text, cargo_subtype) {
    0: return string(STR_MEI6500_4_SUBTYPE_RANDOM);
    1: return string(STR_MEI6500_4_SUBTYPE_TYPE1);
    2: return string(STR_MEI6500_4_SUBTYPE_TYPE2);
    return CB_RESULT_NO_TEXT;
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei6500_4, extra_callback_info1) {
    1..3: return item_mei6500_4;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei6500_4, position_in_vehid_chain % 4) {
    return 130; //default
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6500_Type1_lights, position_in_consist) {
    0: return spriteset_mei6500_Mc_Type1;
    return spriteset_mei6500_Mc_Type1_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6500_Type2_lights, position_in_consist) {
    0: return spriteset_mei6500_Mc_Type2;
    return spriteset_mei6500_Mc_Type2_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6500_Tc_stage2, cargo_subtype == 2) {
    1: spriteset_mei6500_Tc_Type2;
    return spriteset_mei6500_Tc_Type1;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6500_Mc_stage2, cargo_subtype == 2) {
    1: switch_spriteset_mei6500_Type2_lights;
    return switch_spriteset_mei6500_Type1_lights;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6500_T_stage2, cargo_subtype == 2) {
    1: spriteset_mei6500_T_Type2;
    return spriteset_mei6500_T_Type1;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6500_M_stage2, cargo_subtype == 2) {
    1: spriteset_mei6500_M_Type2;
    return spriteset_mei6500_M_Type1;
}

random_switch (FEAT_TRAINS, SELF, switch_spriteset_mei6500_Mc_random) {
    2: switch_spriteset_mei6500_Type1_lights;
    2: switch_spriteset_mei6500_Type2_lights;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(3), switch_spriteset_mei6500_Tc_random) {
    dependent: switch_spriteset_mei6500_Mc_random;
    2: spriteset_mei6500_Tc_Type1;
    2: spriteset_mei6500_Tc_Type2;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(2), switch_spriteset_mei6500_M_random) {
    dependent: switch_spriteset_mei6500_Mc_random;
    2: spriteset_mei6500_M_Type1;
    2: spriteset_mei6500_M_Type2;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(1), switch_spriteset_mei6500_T_random) {
    dependent: switch_spriteset_mei6500_Mc_random;
    2: spriteset_mei6500_T_Type1;
    2: spriteset_mei6500_T_Type2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6500_Tc_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei6500_Tc_random;
    switch_spriteset_mei6500_Tc_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6500_Mc_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei6500_Mc_random;
    switch_spriteset_mei6500_Mc_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6500_T_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei6500_T_random;
    switch_spriteset_mei6500_T_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6500_M_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei6500_M_random;
    switch_spriteset_mei6500_M_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6500_4, position_in_vehid_chain % 4) {
    0: switch_spriteset_mei6500_Mc_stage1;
    1: switch_spriteset_mei6500_T_stage1;
    2: switch_spriteset_mei6500_M_stage1;
    3: switch_spriteset_mei6500_Tc_stage1;
}

// 6800 Series (2 Car)

switch (FEAT_TRAINS, SELF, switch_mei6800_2_cargo_subtype_text, cargo_subtype) {
    0: return string(STR_MEI6800_2_SUBTYPE_RANDOM);
    1: return string(STR_MEI6800_2_SUBTYPE_TYPE1);
    2: return string(STR_MEI6800_2_SUBTYPE_TYPE2);
    return CB_RESULT_NO_TEXT;
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei6800_2, extra_callback_info1) {
    1: return item_mei6800_2;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei6800_2, position_in_vehid_chain % 2) {
    return 130; //default
}

random_switch (FEAT_TRAINS, FORWARD_SELF(1), switch_spriteset_mei6800_Tc_random) {
    dependent: switch_spriteset_mei6500_Mc_random;
    2: spriteset_mei6500_Tc_Type1;
    2: spriteset_mei6500_Tc_Type2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6800_Tc_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei6800_Tc_random;
    switch_spriteset_mei6500_Tc_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei6800_2, position_in_vehid_chain % 2) {
    0: switch_spriteset_mei6500_Mc_stage1;
    1: switch_spriteset_mei6800_Tc_stage1;
}

// 5000 Series (4 Car)

switch (FEAT_TRAINS, SELF, switch_spriteset_mei5000_lights, position_in_consist) {
    0: return spriteset_mei5000_Tc1;
    return spriteset_mei5000_Tc1_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei5000_4, extra_callback_info1) {
    1..3: return item_mei5000_4;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei5000_4, position_in_vehid_chain % 4) {
    1..2: return 136;
    return 125; //default
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei5000_4, position_in_vehid_chain % 4) {
    0: switch_spriteset_mei5000_lights;
    1: spriteset_mei5000_M1;
    2: spriteset_mei5000_M2;
    3: spriteset_mei5000_Tc2;
}

// 3500 Series (4 Car)

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3500_lights, position_in_consist) {
    0: return spriteset_mei3500_Tc1;
    return spriteset_mei3500_Tc1_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei3500_4, extra_callback_info1) {
    1..3: return item_mei3500_4;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei3500_4, position_in_vehid_chain % 4) {
    1..2: return 146;
    return 130; //default
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3500_4, position_in_vehid_chain % 4) {
    0: switch_spriteset_mei3500_lights;
    1: spriteset_mei3500_M1;
    2: spriteset_mei3500_M2;
    3: spriteset_mei3500_Tc2;
}

// 3700 Series (4 Car)

switch (FEAT_TRAINS, SELF, switch_mei3700_4_cargo_subtype_text, cargo_subtype) {
    0: return string(STR_MEI3700_4_SUBTYPE_RANDOM);
    1: return string(STR_MEI3700_4_SUBTYPE_STANDARD);
    2: return string(STR_MEI3700_4_SUBTYPE_ST13);
    3: return string(STR_MEI3700_4_SUBTYPE_ST16);
    4: return string(STR_MEI3700_4_SUBTYPE_ST17);
    return CB_RESULT_NO_TEXT;
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei3700_4, extra_callback_info1) {
    1..3: return item_mei3700_4;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei3700_4, position_in_vehid_chain % 4) {
    1..2: return 138;
    return 130; //default
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_Tc1_Standard_lights, position_in_consist) {
    0: return spriteset_mei3700_Tc1_Standard;
    return spriteset_mei3700_Tc1_Standard_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_Tc1_ST13_lights, position_in_consist) {
    0: return spriteset_mei3700_Tc1_ST13;
    return spriteset_mei3700_Tc1_ST13_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_Tc1_ST16_lights, position_in_consist) {
    0: return spriteset_mei3700_Tc1_ST16;
    return spriteset_mei3700_Tc1_ST16_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_Tc1_ST17_lights, position_in_consist) {
    0: return spriteset_mei3700_Tc1_ST17;
    return spriteset_mei3700_Tc1_ST17_nolights; // only the vehicle at the front is lit up
}

random_switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_Tc1_random) {
    12: switch_spriteset_mei3700_Tc1_Standard_lights;
    1: switch_spriteset_mei3700_Tc1_ST13_lights;
    1: switch_spriteset_mei3700_Tc1_ST16_lights;
    1: switch_spriteset_mei3700_Tc1_ST17_lights;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(1), switch_spriteset_mei3700_M1_random) {
    dependent: switch_spriteset_mei3700_Tc1_random;
    12: spriteset_mei3700_M1_Standard;
    1: spriteset_mei3700_M1_ST13;
    1: spriteset_mei3700_M1_ST16;
    1: spriteset_mei3700_M1_ST17;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(2), switch_spriteset_mei3700_M2_random) {
    dependent: switch_spriteset_mei3700_Tc1_random;
    12: spriteset_mei3700_M2_Standard;
    1: spriteset_mei3700_M2_ST13;
    1: spriteset_mei3700_M2_ST16;
    1: spriteset_mei3700_M2_ST17;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(3), switch_spriteset_mei3700_Tc2_random) {
    dependent: switch_spriteset_mei3700_Tc1_random;
    12: spriteset_mei3700_Tc2_Standard;
    1: spriteset_mei3700_Tc2_ST13;
    1: spriteset_mei3700_Tc2_ST16;
    1: spriteset_mei3700_Tc2_ST17;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_Tc1_stage4, cargo_subtype == 3) {
    1: switch_spriteset_mei3700_Tc1_ST16_lights;
    switch_spriteset_mei3700_Tc1_ST17_lights;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_M1_stage4, cargo_subtype == 3) {
    1: spriteset_mei3700_M1_ST16;
    spriteset_mei3700_M1_ST17;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_M2_stage4, cargo_subtype == 3) {
    1: spriteset_mei3700_M2_ST16;
    spriteset_mei3700_M2_ST17;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_Tc2_stage4, cargo_subtype == 3) {
    1: spriteset_mei3700_Tc2_ST16;
    spriteset_mei3700_Tc2_ST17;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_Tc1_stage3, cargo_subtype == 2) {
    1: switch_spriteset_mei3700_Tc1_ST13_lights;
    switch_spriteset_mei3700_Tc1_stage4;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_M1_stage3, cargo_subtype == 2) {
    1: spriteset_mei3700_M1_ST13;
    switch_spriteset_mei3700_M1_stage4;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_M2_stage3, cargo_subtype == 2) {
    1: spriteset_mei3700_M2_ST13;
    switch_spriteset_mei3700_M2_stage4;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_Tc2_stage3, cargo_subtype == 2) {
    1: spriteset_mei3700_Tc2_ST13;
    switch_spriteset_mei3700_Tc2_stage4;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_Tc1_stage2, cargo_subtype == 1) {
    1: switch_spriteset_mei3700_Tc1_Standard_lights;
    switch_spriteset_mei3700_Tc1_stage3;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_M1_stage2, cargo_subtype == 1) {
    1: spriteset_mei3700_M1_Standard;
    switch_spriteset_mei3700_M1_stage3;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_M2_stage2, cargo_subtype == 1) {
    1: spriteset_mei3700_M2_Standard;
    switch_spriteset_mei3700_M2_stage3;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_Tc2_stage2, cargo_subtype == 1) {
    1: spriteset_mei3700_Tc2_Standard;
    switch_spriteset_mei3700_Tc2_stage3;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_Tc1_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei3700_Tc1_random;
    switch_spriteset_mei3700_Tc1_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_M1_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei3700_M1_random;
    switch_spriteset_mei3700_M1_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_M2_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei3700_M2_random;
    switch_spriteset_mei3700_M2_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_Tc2_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei3700_Tc2_random;
    switch_spriteset_mei3700_Tc2_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3700_4, position_in_vehid_chain % 4) {
    0: switch_spriteset_mei3700_Tc1_stage1;
    1: switch_spriteset_mei3700_M1_stage1;
    2: switch_spriteset_mei3700_M2_stage1;
    3: switch_spriteset_mei3700_Tc2_stage1;
}

// 3100 Series (2 Car)

switch (FEAT_TRAINS, SELF, switch_mei3100_2_cargo_subtype_text, cargo_subtype) {
    0: return string(STR_MEI3100_2_SUBTYPE_RANDOM);
    1: return string(STR_MEI3100_2_SUBTYPE_STANDARD);
    2: return string(STR_MEI3100_2_SUBTYPE_EXPRESS);
    return CB_RESULT_NO_TEXT;
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei3100_2, extra_callback_info1) {
    1: return item_mei3100_2;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei3100_2, position_in_vehid_chain % 4) {
    return 129; //default
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3100_Tc_Standard_lights, position_in_consist) {
    0: return spriteset_mei3100_Tc_Standard;
    return spriteset_mei3100_Tc_Standard_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3100_Tc_Express_lights, position_in_consist) {
    0: return spriteset_mei3100_Tc_Express;
    return spriteset_mei3100_Tc_Express_nolights; // only the vehicle at the front is lit up
}

random_switch (FEAT_TRAINS, SELF, switch_spriteset_mei3100_Tc_random) {
    2: switch_spriteset_mei3100_Tc_Standard_lights;
    2: switch_spriteset_mei3100_Tc_Express_lights;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(1), switch_spriteset_mei3100_Mc_random) {
    dependent: switch_spriteset_mei3100_Tc_random;
    2: spriteset_mei3100_Mc_Standard;
    2: spriteset_mei3100_Mc_Express;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3100_Tc_stage2, cargo_subtype == 1) {
    1: switch_spriteset_mei3100_Tc_Standard_lights;
    switch_spriteset_mei3100_Tc_Express_lights;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3100_Mc_stage2, cargo_subtype == 1) {
    1: spriteset_mei3100_Mc_Standard;
    spriteset_mei3100_Mc_Express;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3100_Tc_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei3100_Tc_random;
    switch_spriteset_mei3100_Tc_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3100_Mc_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei3100_Mc_random;
    switch_spriteset_mei3100_Mc_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3100_2, position_in_vehid_chain % 2) {
    0: switch_spriteset_mei3100_Tc_stage1;
    1: switch_spriteset_mei3100_Mc_stage1;
}

// 3300 Series (4 Car)

switch (FEAT_TRAINS, SELF, switch_mei3300_4_cargo_subtype_text, cargo_subtype) {
    0: return string(STR_MEI3300_4_SUBTYPE_RANDOM);
    1: return string(STR_MEI3300_4_SUBTYPE_ORIGINAL);
    2: return string(STR_MEI3300_4_SUBTYPE_NEW);
    3: return string(STR_MEI3300_4_SUBTYPE_ECO08);
    4: return string(STR_MEI3300_4_SUBTYPE_ECO09);
    5: return string(STR_MEI3300_4_SUBTYPE_ECO10);
    6: return string(STR_MEI3300_4_SUBTYPE_ECO11);
    7: return string(STR_MEI3300_4_SUBTYPE_ECO12);
    8: return string(STR_MEI3300_4_SUBTYPE_ECO13);
    9: return string(STR_MEI3300_4_SUBTYPE_ECO14);
    return CB_RESULT_NO_TEXT;
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei3300_4, extra_callback_info1) {
    1..3: return item_mei3300_4;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei3300_4, position_in_vehid_chain % 4) {
    1..2: return 125;
    return 120; //default
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Tc_Original_lights, position_in_consist) {
    0: return spriteset_mei3300_Tc_Original;
    return spriteset_mei3300_Tc_Original_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Tc_New_lights, position_in_consist) {
    0: return spriteset_mei3300_Tc_New;
    return spriteset_mei3300_Tc_New_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Tc_Eco08_lights, position_in_consist) {
    0: return spriteset_mei3300_Tc_Eco08;
    return spriteset_mei3300_Tc_Eco08_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Tc_Eco09_lights, position_in_consist) {
    0: return spriteset_mei3300_Tc_Eco09;
    return spriteset_mei3300_Tc_Eco09_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Tc_Eco10_lights, position_in_consist) {
    0: return spriteset_mei3300_Tc_Eco10;
    return spriteset_mei3300_Tc_Eco10_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Tc_Eco11_lights, position_in_consist) {
    0: return spriteset_mei3300_Tc_Eco11;
    return spriteset_mei3300_Tc_Eco11_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Tc_Eco12_lights, position_in_consist) {
    0: return spriteset_mei3300_Tc_Eco12;
    return spriteset_mei3300_Tc_Eco12_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Tc_Eco13_lights, position_in_consist) {
    0: return spriteset_mei3300_Tc_Eco13;
    return spriteset_mei3300_Tc_Eco13_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Tc_Eco14_lights, position_in_consist) {
    0: return spriteset_mei3300_Tc_Eco14;
    return spriteset_mei3300_Tc_Eco14_nolights; // only the vehicle at the front is lit up
}

random_switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Tc_random) {
    32: switch_spriteset_mei3300_Tc_Original_lights;
    32: switch_spriteset_mei3300_Tc_New_lights;
    1: switch_spriteset_mei3300_Tc_Eco08_lights;
    1: switch_spriteset_mei3300_Tc_Eco09_lights;
    1: switch_spriteset_mei3300_Tc_Eco10_lights;
    1: switch_spriteset_mei3300_Tc_Eco11_lights;
    1: switch_spriteset_mei3300_Tc_Eco12_lights;
    1: switch_spriteset_mei3300_Tc_Eco13_lights;
    1: switch_spriteset_mei3300_Tc_Eco14_lights;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(1), switch_spriteset_mei3300_M_random) {
    dependent: switch_spriteset_mei3300_Tc_random;
    32: spriteset_mei3300_M_Original;
    32: spriteset_mei3300_M_New;
    1: spriteset_mei3300_M_Eco08;
    1: spriteset_mei3300_M_Eco09;
    1: spriteset_mei3300_M_Eco10;
    1: spriteset_mei3300_M_Eco11;
    1: spriteset_mei3300_M_Eco12;
    1: spriteset_mei3300_M_Eco13;
    1: spriteset_mei3300_M_Eco14;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(2), switch_spriteset_mei3300_T_random) {
    dependent: switch_spriteset_mei3300_Tc_random;
    32: spriteset_mei3300_T_Original;
    32: spriteset_mei3300_T_New;
    1: spriteset_mei3300_T_Eco08;
    1: spriteset_mei3300_T_Eco09;
    1: spriteset_mei3300_T_Eco10;
    1: spriteset_mei3300_T_Eco11;
    1: spriteset_mei3300_T_Eco12;
    1: spriteset_mei3300_T_Eco13;
    1: spriteset_mei3300_T_Eco14;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(3), switch_spriteset_mei3300_Mc_random) {
    dependent: switch_spriteset_mei3300_Tc_random;
    32: spriteset_mei3300_Mc_Original;
    32: spriteset_mei3300_Mc_New;
    1: spriteset_mei3300_Mc_Eco08;
    1: spriteset_mei3300_Mc_Eco09;
    1: spriteset_mei3300_Mc_Eco10;
    1: spriteset_mei3300_Mc_Eco11;
    1: spriteset_mei3300_Mc_Eco12;
    1: spriteset_mei3300_Mc_Eco13;
    1: spriteset_mei3300_Mc_Eco14;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Tc_stage9, cargo_subtype == 8) {
    1: switch_spriteset_mei3300_Tc_Eco13_lights;
    switch_spriteset_mei3300_Tc_Eco14_lights;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_M_stage9, cargo_subtype == 8) {
    1: spriteset_mei3300_M_Eco13;
    spriteset_mei3300_M_Eco14;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_T_stage9, cargo_subtype == 8) {
    1: spriteset_mei3300_T_Eco13;
    spriteset_mei3300_T_Eco14;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Mc_stage9, cargo_subtype == 8) {
    1: spriteset_mei3300_Mc_Eco13;
    spriteset_mei3300_Mc_Eco14;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Tc_stage8, cargo_subtype == 7) {
    1: switch_spriteset_mei3300_Tc_Eco12_lights;
    switch_spriteset_mei3300_Tc_stage9;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_M_stage8, cargo_subtype == 7) {
    1: spriteset_mei3300_M_Eco12;
    switch_spriteset_mei3300_M_stage9;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_T_stage8, cargo_subtype == 7) {
    1: spriteset_mei3300_T_Eco12;
    switch_spriteset_mei3300_T_stage9;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Mc_stage8, cargo_subtype == 7) {
    1: spriteset_mei3300_Mc_Eco12;
    switch_spriteset_mei3300_Mc_stage9;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Tc_stage7, cargo_subtype == 6) {
    1: switch_spriteset_mei3300_Tc_Eco11_lights;
    switch_spriteset_mei3300_Tc_stage8;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_M_stage7, cargo_subtype == 6) {
    1: spriteset_mei3300_M_Eco11;
    switch_spriteset_mei3300_M_stage8;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_T_stage7, cargo_subtype == 6) {
    1: spriteset_mei3300_T_Eco11;
    switch_spriteset_mei3300_T_stage8;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Mc_stage7, cargo_subtype == 6) {
    1: spriteset_mei3300_Mc_Eco11;
    switch_spriteset_mei3300_Mc_stage8;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Tc_stage6, cargo_subtype == 5) {
    1: switch_spriteset_mei3300_Tc_Eco10_lights;
    switch_spriteset_mei3300_Tc_stage7;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_M_stage6, cargo_subtype == 5) {
    1: spriteset_mei3300_M_Eco10;
    switch_spriteset_mei3300_M_stage7;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_T_stage6, cargo_subtype == 5) {
    1: spriteset_mei3300_T_Eco10;
    switch_spriteset_mei3300_T_stage7;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Mc_stage6, cargo_subtype == 5) {
    1: spriteset_mei3300_Mc_Eco10;
    switch_spriteset_mei3300_Mc_stage7;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Tc_stage5, cargo_subtype == 4) {
    1: switch_spriteset_mei3300_Tc_Eco09_lights;
    switch_spriteset_mei3300_Tc_stage6;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_M_stage5, cargo_subtype == 4) {
    1: spriteset_mei3300_M_Eco09;
    switch_spriteset_mei3300_M_stage6;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_T_stage5, cargo_subtype == 4) {
    1: spriteset_mei3300_T_Eco09;
    switch_spriteset_mei3300_T_stage6;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Mc_stage5, cargo_subtype == 4) {
    1: spriteset_mei3300_Mc_Eco09;
    switch_spriteset_mei3300_Mc_stage6;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Tc_stage4, cargo_subtype == 3) {
    1: switch_spriteset_mei3300_Tc_Eco08_lights;
    switch_spriteset_mei3300_Tc_stage5;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_M_stage4, cargo_subtype == 3) {
    1: spriteset_mei3300_M_Eco08;
    switch_spriteset_mei3300_M_stage5;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_T_stage4, cargo_subtype == 3) {
    1: spriteset_mei3300_T_Eco08;
    switch_spriteset_mei3300_T_stage5;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Mc_stage4, cargo_subtype == 3) {
    1: spriteset_mei3300_Mc_Eco08;
    switch_spriteset_mei3300_Mc_stage5;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Tc_stage3, cargo_subtype == 2) {
    1: switch_spriteset_mei3300_Tc_New_lights;
    switch_spriteset_mei3300_Tc_stage4;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_M_stage3, cargo_subtype == 2) {
    1: spriteset_mei3300_M_New;
    switch_spriteset_mei3300_M_stage4;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_T_stage3, cargo_subtype == 2) {
    1: spriteset_mei3300_T_New;
    switch_spriteset_mei3300_T_stage4;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Mc_stage3, cargo_subtype == 2) {
    1: spriteset_mei3300_Mc_New;
    switch_spriteset_mei3300_Mc_stage4;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Tc_stage2, cargo_subtype == 1) {
    1: switch_spriteset_mei3300_Tc_Original_lights;
    switch_spriteset_mei3300_Tc_stage3;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_M_stage2, cargo_subtype == 1) {
    1: spriteset_mei3300_M_Original;
    switch_spriteset_mei3300_M_stage3;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_T_stage2, cargo_subtype == 1) {
    1: spriteset_mei3300_T_Original;
    switch_spriteset_mei3300_T_stage3;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Mc_stage2, cargo_subtype == 1) {
    1: spriteset_mei3300_Mc_Original;
    switch_spriteset_mei3300_Mc_stage3;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Tc_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei3300_Tc_random;
    switch_spriteset_mei3300_Tc_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_M_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei3300_M_random;
    switch_spriteset_mei3300_M_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_T_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei3300_T_random;
    switch_spriteset_mei3300_T_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_Mc_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei3300_Mc_random;
    switch_spriteset_mei3300_Mc_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3300_4, position_in_vehid_chain % 4) {
    0: switch_spriteset_mei3300_Tc_stage1;
    1: switch_spriteset_mei3300_M_stage1;
    2: switch_spriteset_mei3300_T_stage1;
    3: switch_spriteset_mei3300_Mc_stage1;
}

// 3150 Series (2 Car)

switch (FEAT_TRAINS, SELF, switch_mei3150_2_cargo_subtype_text, cargo_subtype) {
    0: return string(STR_MEI3150_2_SUBTYPE_RANDOM);
    1: return string(STR_MEI3150_2_SUBTYPE_ORIGINAL);
    2: return string(STR_MEI3150_2_SUBTYPE_NEW);
    return CB_RESULT_NO_TEXT;
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei3150_2, extra_callback_info1) {
    1: return item_mei3150_2;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei3150_2, position_in_vehid_chain % 2) {
    return 117; //default
}

random_switch (FEAT_TRAINS, SELF, switch_spriteset_mei3150_Tc_random) {
    2: switch_spriteset_mei3300_Tc_Original_lights;
    2: switch_spriteset_mei3300_Tc_New_lights;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(1), switch_spriteset_mei3150_Mc_random) {
    dependent: switch_spriteset_mei3150_Tc_random;
    2: spriteset_mei3300_Mc_Original;
    2: spriteset_mei3300_Mc_New;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3150_Tc_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei3150_Tc_random;
    switch_spriteset_mei3300_Tc_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3150_Mc_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei3150_Mc_random;
    switch_spriteset_mei3300_Mc_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei3150_2, position_in_vehid_chain % 2) {
    0: switch_spriteset_mei3150_Tc_stage1;
    1: switch_spriteset_mei3150_Mc_stage1;
}

// 300 Series (4 Cars)

switch (FEAT_TRAINS, SELF, switch_spriteset_mei4000_lights, position_in_consist) {
    0: return spriteset_mei4000_Tc1;
    return spriteset_mei4000_Tc1_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei4000_4, extra_callback_info1) {
    1..3: return item_mei4000_4;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei4000_4, position_in_vehid_chain % 4) {
    1..2: return 136;
    return 125; //default
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei4000_4, position_in_vehid_chain % 4) {
    0: switch_spriteset_mei4000_lights;
    1: spriteset_mei4000_M1;
    2: spriteset_mei4000_M2;
    3: spriteset_mei4000_Tc2;
}

// 9500 Series

switch (FEAT_TRAINS, SELF, switch_spriteset_mei9500_lights, position_in_consist) {
    0: return spriteset_mei9500_Mc;
    return spriteset_mei9500_Mc_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei9500_4, extra_callback_info1) {
    1..3: return item_mei9500_4;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei9500_4, position_in_vehid_chain % 4) {
    1..2: return 132;
    return 130; //default
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei9500_4, position_in_vehid_chain % 4) {
    0: switch_spriteset_mei9500_lights;
    1: spriteset_mei9500_T;
    2: spriteset_mei9500_M;
    3: spriteset_mei9500_Tc;
}

// 9100 Series

switch (FEAT_TRAINS, SELF, switch_articulated_mei9100_2, extra_callback_info1) {
    1: return item_mei9100_2;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei9100_2, position_in_vehid_chain % 2) {
    return 130; //default
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei9100_2, position_in_vehid_chain % 2) {
    0: switch_spriteset_mei9500_lights;
    1: spriteset_mei9500_Tc;
}

// 1000 Series

switch (FEAT_TRAINS, SELF, switch_mei1000_4_cargo_subtype_text, cargo_subtype) {
    0: return string(STR_MEI1000_4_SUBTYPE_RANDOM);
    1: return string(STR_MEI1000_4_SUBTYPE_STANDARD);
    2: return string(STR_MEI1000_4_SUBTYPE_BL);
    return CB_RESULT_NO_TEXT;
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei1000_4, extra_callback_info1) {
    1..3: return item_mei1000_4;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei1000_4, position_in_vehid_chain % 4) {
    1..2: return 60;
    return 48; //default
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1000_Tc1_Standard_lights, position_in_consist) {
    0: return spriteset_mei1000_Tc1_Standard;
    return spriteset_mei1000_Tc1_Standard_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1000_Tc1_BL_lights, position_in_consist) {
    0: return spriteset_mei1000_Tc1_BL;
    return spriteset_mei1000_Tc1_BL_nolights; // only the vehicle at the front is lit up
}

random_switch (FEAT_TRAINS, SELF, switch_spriteset_mei1000_Tc1_random) {
    19: switch_spriteset_mei1000_Tc1_Standard_lights;
    1: switch_spriteset_mei1000_Tc1_BL_lights;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(1), switch_spriteset_mei1000_M1_random) {
    dependent: switch_spriteset_mei1000_Tc1_random;
    19: spriteset_mei1000_M1_Standard;
    1: spriteset_mei1000_M1_BL;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(2), switch_spriteset_mei1000_M2_random) {
    dependent: switch_spriteset_mei1000_Tc1_random;
    19: spriteset_mei1000_M2_Standard;
    1: spriteset_mei1000_M2_BL;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(3), switch_spriteset_mei1000_Tc2_random) {
    dependent: switch_spriteset_mei1000_Tc1_random;
    19: spriteset_mei1000_Tc2_Standard;
    1: spriteset_mei1000_Tc2_BL;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1000_Tc1_stage2, cargo_subtype == 1) {
    1: switch_spriteset_mei1000_Tc1_Standard_lights;
    switch_spriteset_mei1000_Tc1_BL_lights;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1000_M1_stage2, cargo_subtype == 1) {
    1: spriteset_mei1000_M1_Standard;
    spriteset_mei1000_M1_BL;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1000_M2_stage2, cargo_subtype == 1) {
    1: spriteset_mei1000_M2_Standard;
    spriteset_mei1000_M2_BL;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1000_Tc2_stage2, cargo_subtype == 1) {
    1: spriteset_mei1000_Tc2_Standard;
    spriteset_mei1000_Tc2_BL;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1000_Tc1_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1000_Tc1_random;
    switch_spriteset_mei1000_Tc1_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1000_M1_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1000_M1_random;
    switch_spriteset_mei1000_M1_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1000_M2_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1000_M2_random;
    switch_spriteset_mei1000_M2_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1000_Tc2_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1000_Tc2_random;
    switch_spriteset_mei1000_Tc2_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1000_4, position_in_vehid_chain % 4) {
    0: switch_spriteset_mei1000_Tc1_stage1;
    1: switch_spriteset_mei1000_M1_stage1;
    2: switch_spriteset_mei1000_M2_stage1;
    3: switch_spriteset_mei1000_Tc2_stage1;
}

// 1200 Series (6 Car)

switch (FEAT_TRAINS, SELF, switch_mei1200_6_cargo_subtype_text, cargo_subtype) {
    0: return string(STR_MEI1200_6_SUBTYPE_RANDOM);
    1: return string(STR_MEI1200_6_SUBTYPE_ORIGINAL);
    2: return string(STR_MEI1200_6_SUBTYPE_NEW);
    return CB_RESULT_NO_TEXT;
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei1200_6, extra_callback_info1) {
    1..5: return item_mei1200_6;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei1200_6, position_in_vehid_chain % 6) {
    1: return 60;
    2..4: return 120;
    5: return 111;
    return 48; //default
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1000_Tc1_New_lights, position_in_consist) {
    0: return spriteset_mei1000_Tc1_New;
    return spriteset_mei1000_Tc1_New_nolights; // only the vehicle at the front is lit up
}

random_switch (FEAT_TRAINS, SELF, switch_spriteset_mei1200_Tc1_random) {
    2: switch_spriteset_mei1000_Tc1_Standard_lights;
    2: switch_spriteset_mei1000_Tc1_New_lights;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(1), switch_spriteset_mei1200_M1_random) {
    dependent: switch_spriteset_mei1200_Tc1_random;
    2: spriteset_mei1000_M1_Standard;
    2: spriteset_mei1000_M1_New;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(2), switch_spriteset_mei1200_M2_random) {
    dependent: switch_spriteset_mei1200_Tc1_random;
    2: spriteset_mei1200_M_Original;
    2: spriteset_mei1200_M_New;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(3), switch_spriteset_mei1200_T1_random) {
    dependent: switch_spriteset_mei1200_Tc1_random;
    2: spriteset_mei1200_T_Original;
    2: spriteset_mei1200_T_New;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(4), switch_spriteset_mei1200_M3_random) {
    dependent: switch_spriteset_mei1200_Tc1_random;
    2: spriteset_mei1200_M_Original;
    2: spriteset_mei1200_M_New;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(5), switch_spriteset_mei1200_Tc2_random) {
    dependent: switch_spriteset_mei1200_Tc1_random;
    2: spriteset_mei1200_Tc_Original;
    2: spriteset_mei1200_Tc_New;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1200_Tc1_stage2, cargo_subtype == 1) {
    1: switch_spriteset_mei1000_Tc1_Standard_lights;
    switch_spriteset_mei1000_Tc1_New_lights;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1200_M1_stage2, cargo_subtype == 1) {
    1: spriteset_mei1000_M1_Standard;
    spriteset_mei1000_M1_New;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1200_M2_stage2, cargo_subtype == 1) {
    1: spriteset_mei1200_M_Original;
    spriteset_mei1200_M_New;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1200_T1_stage2, cargo_subtype == 1) {
    1: spriteset_mei1200_T_Original;
    spriteset_mei1200_T_New;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1200_M3_stage2, cargo_subtype == 1) {
    1: spriteset_mei1200_M_Original;
    spriteset_mei1200_M_New;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1200_Tc2_stage2, cargo_subtype == 1) {
    1: spriteset_mei1200_Tc_Original;
    spriteset_mei1200_Tc_New;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1200_Tc1_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1200_Tc1_random;
    switch_spriteset_mei1200_Tc1_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1200_M1_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1200_M1_random;
    switch_spriteset_mei1200_M1_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1200_M2_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1200_M2_random;
    switch_spriteset_mei1200_M2_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1200_T1_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1200_T1_random;
    switch_spriteset_mei1200_T1_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1200_M3_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1200_M3_random;
    switch_spriteset_mei1200_M3_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1200_Tc2_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1200_Tc2_random;
    switch_spriteset_mei1200_Tc2_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1200_6, position_in_vehid_chain % 6) {
    0: switch_spriteset_mei1200_Tc1_stage1;
    1: switch_spriteset_mei1200_M1_stage1;
    2: switch_spriteset_mei1200_M2_stage1;
    3: switch_spriteset_mei1200_T1_stage1;
    4: switch_spriteset_mei1200_M3_stage1;
    5: switch_spriteset_mei1200_Tc2_stage1;
}

// 1230 Series (6 Car)

switch (FEAT_TRAINS, SELF, switch_mei1230_6_cargo_subtype_text, cargo_subtype) {
    0: return string(STR_MEI1230_6_SUBTYPE_RANDOM);
    1: return string(STR_MEI1230_6_SUBTYPE_ORIGINAL);
    2: return string(STR_MEI1230_6_SUBTYPE_NEW);
    return CB_RESULT_NO_TEXT;
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei1230_6, extra_callback_info1) {
    1..5: return item_mei1230_6;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei1230_6, position_in_vehid_chain % 6) {
    1: return 60;
    2..4: return 120;
    5: return 111;
    return 48; //default
}

random_switch (FEAT_TRAINS, FORWARD_SELF(2), switch_spriteset_mei1230_T1_random) {
    dependent: switch_spriteset_mei1200_Tc1_random;
    2: spriteset_mei1200_T_Original;
    2: spriteset_mei1200_T_New;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(3), switch_spriteset_mei1230_M2_random) {
    dependent: switch_spriteset_mei1200_Tc1_random;
    2: spriteset_mei1230_M_Original;
    2: spriteset_mei1230_M_New;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(4), switch_spriteset_mei1230_T2_random) {
    dependent: switch_spriteset_mei1200_Tc1_random;
    2: spriteset_mei1200_T_Original;
    2: spriteset_mei1200_T_New;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(5), switch_spriteset_mei1230_Mc_random) {
    dependent: switch_spriteset_mei1200_Tc1_random;
    2: spriteset_mei1230_Mc_Original;
    2: spriteset_mei1230_Mc_New;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1230_M2_stage2, cargo_subtype == 1) {
    1: spriteset_mei1230_M_Original;
    spriteset_mei1230_M_New;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1230_Mc_stage2, cargo_subtype == 1) {
    1: spriteset_mei1230_Mc_Original;
    spriteset_mei1230_Mc_New;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1230_T1_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1230_T1_random;
    switch_spriteset_mei1200_T1_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1230_M2_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1230_M2_random;
    switch_spriteset_mei1230_M2_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1230_T2_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1230_T2_random;
    switch_spriteset_mei1200_T1_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1230_Mc_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1230_Mc_random;
    switch_spriteset_mei1230_Mc_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1230_6, position_in_vehid_chain % 6) {
    0: switch_spriteset_mei1200_Tc1_stage1;
    1: switch_spriteset_mei1200_M1_stage1;
    2: switch_spriteset_mei1230_T1_stage1;
    3: switch_spriteset_mei1230_M2_stage1;
    4: switch_spriteset_mei1230_T2_stage1;
    5: switch_spriteset_mei1230_Mc_stage1;
}

// 1380 Series (4 Cars)

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1380_lights, position_in_consist) {
    0: return spriteset_mei1380_Tc;
    return spriteset_mei1380_Tc_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei1380_4, extra_callback_info1) {
    1..3: return item_mei1380_4;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei1380_4, position_in_vehid_chain % 4) {
    1..2: return 120;
    3: return 116;
    return 115; //default
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1380_4, position_in_vehid_chain % 4) {
    0: switch_spriteset_mei1380_lights;
    1: spriteset_mei1380_M;
    2: spriteset_mei1380_T;
    3: spriteset_mei1380_Mc;
}

// 1800 Series (2 Cars)

switch (FEAT_TRAINS, SELF, switch_mei1800_2_cargo_subtype_text, cargo_subtype) {
    0: return string(STR_MEI1800_2_SUBTYPE_RANDOM);
    1: return string(STR_MEI1800_2_SUBTYPE_ORIGINAL);
    2: return string(STR_MEI1800_2_SUBTYPE_NEW);
    return CB_RESULT_NO_TEXT;
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei1800_2, extra_callback_info1) {
    1: return item_mei1800_2;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei1800_2, position_in_vehid_chain % 2) {
    return 119; //default
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1800_Tc_Original_lights, position_in_consist) {
    0: return spriteset_mei1800_Tc_Original;
    return spriteset_mei1800_Tc_Original_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1800_Tc_New_lights, position_in_consist) {
    0: return spriteset_mei1800_Tc_New;
    return spriteset_mei1800_Tc_New_nolights; // only the vehicle at the front is lit up
}

random_switch (FEAT_TRAINS, SELF, switch_spriteset_mei1800_Tc_random) {
    2: switch_spriteset_mei1800_Tc_Original_lights;
    2: switch_spriteset_mei1800_Tc_New_lights;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(1), switch_spriteset_mei1800_Mc_random) {
    dependent: switch_spriteset_mei1800_Tc_random;
    2: spriteset_mei1800_Mc_Original;
    2: spriteset_mei1800_Mc_New;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1800_Tc_stage2, cargo_subtype == 1) {
    1: switch_spriteset_mei1800_Tc_Original_lights;
    switch_spriteset_mei1800_Tc_New_lights;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1800_Mc_stage2, cargo_subtype == 1) {
    1: spriteset_mei1800_Mc_Original;
    spriteset_mei1800_Mc_New;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1800_Tc_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1800_Tc_random;
    switch_spriteset_mei1800_Tc_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1800_Mc_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1800_Mc_random;
    switch_spriteset_mei1800_Mc_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1800_2, position_in_vehid_chain % 2) {
    0: switch_spriteset_mei1800_Tc_stage1;
    1: switch_spriteset_mei1800_Mc_stage1;
}

// 1850 Series (2 Cars)

switch (FEAT_TRAINS, SELF, switch_mei1850_2_cargo_subtype_text, cargo_subtype) {
    0: return string(STR_MEI1850_2_SUBTYPE_RANDOM);
    1: return string(STR_MEI1850_2_SUBTYPE_ORIGINAL);
    2: return string(STR_MEI1850_2_SUBTYPE_NEW);
    return CB_RESULT_NO_TEXT;
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei1850_2, extra_callback_info1) {
    1: return item_mei1850_2;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei1850_2, position_in_vehid_chain % 2) {
    return 119; //default
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1850_Tc_Original_lights, position_in_consist) {
    0: return spriteset_mei1850_Tc_Original;
    return spriteset_mei1850_Tc_Original_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1850_Tc_New_lights, position_in_consist) {
    0: return spriteset_mei1850_Tc_New;
    return spriteset_mei1850_Tc_New_nolights; // only the vehicle at the front is lit up
}

random_switch (FEAT_TRAINS, SELF, switch_spriteset_mei1850_Tc_random) {
    2: switch_spriteset_mei1850_Tc_Original_lights;
    2: switch_spriteset_mei1850_Tc_New_lights;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(1), switch_spriteset_mei1850_Mc_random) {
    dependent: switch_spriteset_mei1850_Tc_random;
    2: spriteset_mei1850_Mc_Original;
    2: spriteset_mei1850_Mc_New;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1850_Tc_stage2, cargo_subtype == 1) {
    1: switch_spriteset_mei1850_Tc_Original_lights;
    switch_spriteset_mei1850_Tc_New_lights;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1850_Mc_stage2, cargo_subtype == 1) {
    1: spriteset_mei1850_Mc_Original;
    spriteset_mei1850_Mc_New;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1850_Tc_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1850_Tc_random;
    switch_spriteset_mei1850_Tc_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1850_Mc_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1850_Mc_random;
    switch_spriteset_mei1850_Mc_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1850_2, position_in_vehid_chain % 2) {
    0: switch_spriteset_mei1850_Tc_stage1;
    1: switch_spriteset_mei1850_Mc_stage1;
}

// 2000 Series (3 Car)

switch (FEAT_TRAINS, SELF, switch_spriteset_mei2000_lights, position_in_consist) {
    0: return spriteset_mei2000_Tc;
    return spriteset_mei2000_Tc_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_articulated_mei2000_3, extra_callback_info1) {
    1..2: return item_mei2000_3;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei2000_3, position_in_vehid_chain % 3) {
    0: return 47;
    1: return 44;
    2: return 47;
    return 47;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei2000_3, position_in_vehid_chain % 3) {
    0: switch_spriteset_mei2000_lights;
    1: spriteset_mei2000_M;
    2: spriteset_mei2000_Mc;
}

// 2000 Series (4 Car)

switch (FEAT_TRAINS, SELF, switch_articulated_mei2000_4, extra_callback_info1) {
    1..3: return item_mei2000_4;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei2000_4, position_in_vehid_chain % 4) {
    0: return 47;
    1: return 43;
    2: return 44;
    3: return 47;
    return 47;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei2000_4, position_in_vehid_chain % 4) {
    0: switch_spriteset_mei2000_lights;
    1: spriteset_mei2000_T;
    2: spriteset_mei2000_M;
    3: spriteset_mei2000_Mc;
}

// 2200 Series (6 Car)

switch (FEAT_TRAINS, SELF, switch_articulated_mei2200_6, extra_callback_info1) {
    1..5: return item_mei2200_6;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei2200_lights, position_in_consist) {
    0: return spriteset_mei2200_Mc;
    return spriteset_mei2200_Mc_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei2200_6, position_in_vehid_chain % 6) {
    0: return 45;
    1: return 44;
    2: return 120;
    3: return 121;
    4: return 120;
    5: return 120;
    return 47;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei2200_6, position_in_vehid_chain % 6) {
    0: switch_spriteset_mei2200_lights;
    1: spriteset_mei2200_T;
    2: spriteset_mei2300_T;
    3: spriteset_mei2300_M;
    4: spriteset_mei2300_T;
    5: spriteset_mei2300_Mc;
}

// 1700 Series (6 Car)

switch (FEAT_TRAINS, SELF, switch_articulated_mei1700_6, extra_callback_info1) {
    1..5: return item_mei1700_6;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
}

switch (FEAT_TRAINS, SELF, switch_mei1700_6_cargo_subtype_text, cargo_subtype) {
    0: return string(STR_MEI1700_6_SUBTYPE_RANDOM);
    1: return string(STR_MEI1700_6_SUBTYPE_ORIGINAL);
    2: return string(STR_MEI1700_6_SUBTYPE_NEW);
    return CB_RESULT_NO_TEXT;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1700_Original_lights, position_in_consist) {
    0: return spriteset_mei1700_Mc_Original;
    return spriteset_mei1700_Mc_Original_nolights; // only the vehicle at the front is lit up
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1700_New_lights, position_in_consist) {
    0: return spriteset_mei1700_Mc_New;
    return spriteset_mei1700_Mc_New_nolights; // only the vehicle at the front is lit up
}

random_switch (FEAT_TRAINS, SELF, switch_spriteset_mei1700_Mc_random) {
    2: switch_spriteset_mei1700_Original_lights;
    2: switch_spriteset_mei1700_New_lights;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(1), switch_spriteset_mei1700_T_random) {
    dependent: switch_spriteset_mei1700_Mc_random;
    2: spriteset_mei1700_T_Original;
    2: spriteset_mei1700_T_New;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1700_Mc_stage2, cargo_subtype == 1) {
    1: switch_spriteset_mei1700_Original_lights;
    switch_spriteset_mei1700_New_lights;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1700_T_stage2, cargo_subtype == 1) {
    1: spriteset_mei1700_T_Original;
    spriteset_mei1700_T_New;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1700_Mc_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1700_Mc_random;
    switch_spriteset_mei1700_Mc_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1700_T_stage1, cargo_subtype == 0) {
    1: switch_spriteset_mei1700_T_random;
    switch_spriteset_mei1700_T_stage2;
}

switch (FEAT_TRAINS, SELF, switch_spriteset_mei1700_6, position_in_vehid_chain % 6) {
    0: switch_spriteset_mei1700_Mc_stage1;
    1: switch_spriteset_mei1700_T_stage1;
    2: spriteset_mei2300_T;
    3: spriteset_mei2300_M;
    4: spriteset_mei2300_T;
    5: spriteset_mei2300_Mc;
}

switch (FEAT_TRAINS, SELF, switch_capacity_mei1700_6, position_in_vehid_chain % 6) {
    0: return 51;
    1: return 52;
    2: return 120;
    3: return 121;
    4: return 120;
    5: return 120;
    return 47;
}


/////////////////
// ITEM BLOCKS //
/////////////////

/* Define the 100 Series (4 Car) */
item(FEAT_TRAINS, item_mei100_4) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI100_4);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(1978,01,01);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          110 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          400 * 3 kW;
        weight:                         32 * 4 ton;
        cargo_capacity:                 139;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        purchase:                   spriteset_purchase_mei100;
        articulated_part:           switch_articulated_mei100_4;
        additional_text:            return string(STR_PURCHASE_MEI100_4);
        cargo_capacity:             switch_capacity_mei100_4;
        purchase_cargo_capacity:    spriteset_purchase_mei100;
        default:                    switch_spriteset_mei100_4;
    }
}

/* Define the 100 Series (6 Car) */
item(FEAT_TRAINS, item_mei100_6) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI100_6);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(1978,01,01);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          110 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          400 * 5 kW;
        weight:                         32 * 6 ton;
        cargo_capacity:                 139.333333333333;
        length:                         8;
        tractive_effort_coefficient:    0.83;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        purchase:                   spriteset_purchase_mei100;
        articulated_part:           switch_articulated_mei100_6;
        additional_text:            return string(STR_PURCHASE_MEI100_6);
        cargo_capacity:             switch_capacity_mei100_6;
        purchase_cargo_capacity:    spriteset_purchase_mei100;
        default:                    switch_spriteset_mei100_6;
    }
}

/* Define the 200 Series (6 Car) */
item(FEAT_TRAINS, item_mei200_6) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI200_6);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(1994,01,01);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          110 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          680 * 3 kW;
        weight:                         32 * 6 ton;
        cargo_capacity:                 144.6666666666667;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        purchase:                   spriteset_purchase_mei200;
        articulated_part:           switch_articulated_mei200_6;
        additional_text:            return string(STR_PURCHASE_MEI200_6);
        cargo_capacity:             switch_capacity_mei200_6;
        purchase_cargo_capacity:    spriteset_purchase_mei200;
        default:                    switch_spriteset_mei200_6;
    }
}

/* Define the 300 Series (4 Car) */
item(FEAT_TRAINS, item_mei300_4) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI300_4);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(2002,04,01);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          120 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          680 * 2 kW;
        weight:                         32 * 4 ton;
        cargo_capacity:                 132.5;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei300_4;
        purchase:                   spriteset_purchase_mei300;
        articulated_part:           switch_articulated_mei300_4;
        additional_text:            return string(STR_PURCHASE_MEI300_4);
        cargo_capacity:             switch_capacity_mei300_4;
        purchase_cargo_capacity:    spriteset_purchase_mei300;
    }
}

/* Define the 6000 Series (2 Car) */
item(FEAT_TRAINS, item_mei6000_2) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI6000_2);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(1976,12,21);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          110 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          600 * 1 kW;
        weight:                         32 * 2 ton;
        cargo_capacity:                 130;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei6000_2;
        purchase:                   spriteset_purchase_mei6000;
        cargo_subtype_text:         switch_mei6000_2_cargo_subtype_text;
        articulated_part:           switch_articulated_mei6000_2;
        additional_text:            return string(STR_PURCHASE_MEI6000_2);
        cargo_capacity:             switch_capacity_mei6000_2;
        purchase_cargo_capacity:    spriteset_purchase_mei6000;
    }
}

/* Define the 6000 Series (4 Car) */
item(FEAT_TRAINS, item_mei6000_4) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI6000_4);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(1976,12,21);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          110 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          600 * 2 kW;
        weight:                         32 * 4 ton;
        cargo_capacity:                 130;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei6000_4;
        purchase:                   spriteset_purchase_mei6000;
        cargo_subtype_text:         switch_mei6000_4_cargo_subtype_text;
        articulated_part:           switch_articulated_mei6000_4;
        additional_text:            return string(STR_PURCHASE_MEI6000_4);
        cargo_capacity:             switch_capacity_mei6000_4;
        purchase_cargo_capacity:    spriteset_purchase_mei6000;
    }
}

/* Define the 6500 Series (4 Car) */
item(FEAT_TRAINS, item_mei6500_4) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI6500_4);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(1984,01,01);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          110 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          600 * 2 kW;
        weight:                         32 * 4 ton;
        cargo_capacity:                 130;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei6500_4;
        purchase:                   spriteset_purchase_mei6500;
        cargo_subtype_text:         switch_mei6500_4_cargo_subtype_text;
        articulated_part:           switch_articulated_mei6500_4;
        additional_text:            return string(STR_PURCHASE_MEI6500_4);
        cargo_capacity:             switch_capacity_mei6500_4;
        purchase_cargo_capacity:    spriteset_purchase_mei6500;
    }
}

/* Define the 6800 Series (2 Car) */
item(FEAT_TRAINS, item_mei6800_2) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI6800_2);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(1987,01,01);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          110 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          600 * 2 kW;
        weight:                         32 * 2 ton;
        cargo_capacity:                 130;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei6800_2;
        purchase:                   spriteset_purchase_mei6500;
        cargo_subtype_text:         switch_mei6800_2_cargo_subtype_text;
        articulated_part:           switch_articulated_mei6800_2;
        additional_text:            return string(STR_PURCHASE_MEI6800_2);
        cargo_capacity:             switch_capacity_mei6800_2;
        purchase_cargo_capacity:    spriteset_purchase_mei6500;
    }
}

/* Define the 5000 Series (4 Car) */
item(FEAT_TRAINS, item_mei5000_4) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI5000_4);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(2008,03,23);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          130 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          600 * 2 kW;
        weight:                         32 * 4 ton;
        cargo_capacity:                 130.5;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei5000_4;
        purchase:                   spriteset_purchase_mei5000;
        articulated_part:           switch_articulated_mei5000_4;
        additional_text:            return string(STR_PURCHASE_MEI5000_4);
        cargo_capacity:             switch_capacity_mei5000_4;
        purchase_cargo_capacity:    spriteset_purchase_mei5000;
    }
}

/* Define the 3500 Series (4 Car) */
item(FEAT_TRAINS, item_mei3500_4) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI3500_4);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(1993,06,01);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          130 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          170 * 8 kW;
        weight:                         32 * 4 ton;
        cargo_capacity:                 138;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei3500_4;
        purchase:                   spriteset_purchase_mei3500;
        articulated_part:           switch_articulated_mei3500_4;
        additional_text:            return string(STR_PURCHASE_MEI3500_4);
        cargo_capacity:             switch_capacity_mei3500_4;
        purchase_cargo_capacity:    spriteset_purchase_mei3500;
    }
}

/* Define the 3700 Series (4 Car) */
item(FEAT_TRAINS, item_mei3700_4) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI3700_4);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(1997,01,01);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          130 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          170 * 8 kW;
        weight:                         32 * 4 ton;
        cargo_capacity:                 134;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei3700_4;
        purchase:                   spriteset_purchase_mei3700;
        cargo_subtype_text:         switch_mei3700_4_cargo_subtype_text;
        articulated_part:           switch_articulated_mei3700_4;
        additional_text:            return string(STR_PURCHASE_MEI3700_4);
        cargo_capacity:             switch_capacity_mei3700_4;
        purchase_cargo_capacity:    spriteset_purchase_mei3700;
    }
}

/* Define the 3100 Series (2 Car) */
item(FEAT_TRAINS, item_mei3100_2) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI3100_2);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(1997,01,01);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          130 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          170 * 4 kW;
        weight:                         32 * 2 ton;
        cargo_capacity:                 129;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei3100_2;
        purchase:                   spriteset_purchase_mei3100;
        cargo_subtype_text:         switch_mei3100_2_cargo_subtype_text;
        articulated_part:           switch_articulated_mei3100_2;
        additional_text:            return string(STR_PURCHASE_MEI3100_2);
        cargo_capacity:             switch_capacity_mei3100_2;
        purchase_cargo_capacity:    spriteset_purchase_mei3100;
    }
}

/* Define the 3300 Series (4 Car) */
item(FEAT_TRAINS, item_mei3300_4) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI3300_4);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(2004,11,15);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          130 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          170 * 8 kW;
        weight:                         33 * 4 ton;
        cargo_capacity:                 122.5;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei3300_4;
        purchase:                   spriteset_purchase_mei3300;
        cargo_subtype_text:         switch_mei3300_4_cargo_subtype_text;
        articulated_part:           switch_articulated_mei3300_4;
        additional_text:            return string(STR_PURCHASE_MEI3300_4);
        cargo_capacity:             switch_capacity_mei3300_4;
        purchase_cargo_capacity:    spriteset_purchase_mei3300;
    }
}

/* Define the 3150 Series (2 Car) */
item(FEAT_TRAINS, item_mei3150_2) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI3150_2);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(2004,10,01);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          130 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          170 * 4 kW;
        weight:                         34 * 2 ton;
        cargo_capacity:                 117;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei3150_2;
        purchase:                   spriteset_purchase_mei3300;
        cargo_subtype_text:         switch_mei3150_2_cargo_subtype_text;
        articulated_part:           switch_articulated_mei3150_2;
        additional_text:            return string(STR_PURCHASE_MEI3150_2);
        cargo_capacity:             switch_capacity_mei3150_2;
        purchase_cargo_capacity:    spriteset_purchase_mei3300;
    }
}

/* Define the 4000 Series (4 Car) */
item(FEAT_TRAINS, item_mei4000_4) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI4000_4);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(2008,10,01);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          100 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          170 * 8 kW;
        weight:                         32.5 * 4 ton;
        cargo_capacity:                 130.5;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei4000_4;
        purchase:                   spriteset_purchase_mei4000;
        articulated_part:           switch_articulated_mei4000_4;
        additional_text:            return string(STR_PURCHASE_MEI4000_4);
        cargo_capacity:             switch_capacity_mei4000_4;
        purchase_cargo_capacity:    spriteset_purchase_mei4000;
    }
}

/* Define the 9500 Series (4 Car) */
item(FEAT_TRAINS, item_mei9500_4) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI9500_4);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(2019,12,01);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          130 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          170 * 8 kW;
        weight:                         33 * 4 ton;
        cargo_capacity:                 131;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei9500_4;
        purchase:                   spriteset_purchase_mei9500;
        articulated_part:           switch_articulated_mei9500_4;
        additional_text:            return string(STR_PURCHASE_MEI9500_4);
        cargo_capacity:             switch_capacity_mei9500_4;
        purchase_cargo_capacity:    spriteset_purchase_mei9500;
    }
}

/* Define the 9100 Series (2 Car) */
item(FEAT_TRAINS, item_mei9100_2) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI9100_2);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(2019,12,01);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          130 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          170 * 4 kW;
        weight:                         33 * 2 ton;
        cargo_capacity:                 131;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei9100_2;
        purchase:                   spriteset_purchase_mei9500;
        articulated_part:           switch_articulated_mei9100_2;
        additional_text:            return string(STR_PURCHASE_MEI9100_2);
        cargo_capacity:             switch_capacity_mei9100_2;
        purchase_cargo_capacity:    spriteset_purchase_mei9500;
    }
}

/* Define the 1000 Series (4 Car) */
item(FEAT_TRAINS, item_mei1000_4) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI1000_4);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(1988,01,01);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          130 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          150 * 8 kW;
        weight:                         37 * 4 ton;
        cargo_capacity:                 54;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei1000_4;
        purchase:                   spriteset_purchase_mei1000;
        cargo_subtype_text:         switch_mei1000_4_cargo_subtype_text;
        articulated_part:           switch_articulated_mei1000_4;
        additional_text:            return string(STR_PURCHASE_MEI1000_4);
        cargo_capacity:             switch_capacity_mei1000_4;
        purchase_cargo_capacity:    spriteset_purchase_mei1000;
    }
}

/* Define the 1200 Series (6 Car) */
item(FEAT_TRAINS, item_mei1200_6) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI1200_6);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(1991,01,01);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          130 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          150 * 12 kW;
        weight:                         36 * 6 ton;
        cargo_capacity:                 96.5;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei1200_6;
        purchase:                   spriteset_purchase_mei1200;
        cargo_subtype_text:         switch_mei1200_6_cargo_subtype_text;
        articulated_part:           switch_articulated_mei1200_6;
        additional_text:            return string(STR_PURCHASE_MEI1200_6);
        cargo_capacity:             switch_capacity_mei1200_6;
        purchase_cargo_capacity:    spriteset_purchase_mei1200;
    }
}

/* Define the 1230 Series (6 Car) */
item(FEAT_TRAINS, item_mei1230_6) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI1230_6);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(1992,01,01);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          130 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          75 * 24 kW;
        weight:                         36 * 6 ton;
        cargo_capacity:                 96.5;
        length:                         8;
        tractive_effort_coefficient:    1;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei1230_6;
        purchase:                   spriteset_purchase_mei1200;
        cargo_subtype_text:         switch_mei1230_6_cargo_subtype_text;
        articulated_part:           switch_articulated_mei1230_6;
        additional_text:            return string(STR_PURCHASE_MEI1230_6);
        cargo_capacity:             switch_capacity_mei1230_6;
        purchase_cargo_capacity:    spriteset_purchase_mei1200;
    }
}

/* Define the 1380 Series (4 Car) */
item(FEAT_TRAINS, item_mei1380_4) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI1380_4);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(2002,09,26);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          130 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          75 * 16 kW;
        weight:                         34 * 4 ton;
        cargo_capacity:                 118;
        length:                         8;
        tractive_effort_coefficient:    1;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        purchase:                   spriteset_purchase_mei1380;
        articulated_part:           switch_articulated_mei1380_4;
        additional_text:            return string(STR_PURCHASE_MEI1380_4);
        cargo_capacity:             switch_capacity_mei1380_4;
        purchase_cargo_capacity:    spriteset_purchase_mei1380;
        default:                    switch_spriteset_mei1380_4;
    }
}

/* Define the 1800 Series (2 Car) */
item(FEAT_TRAINS, item_mei1800_2) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI1800_2);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(1996,01,01);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          130 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          150 * 4 kW;
        weight:                         34 * 4 ton;
        cargo_capacity:                 119;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei1800_2;
        purchase:                   spriteset_purchase_mei1800;
        cargo_subtype_text:         switch_mei1800_2_cargo_subtype_text;
        articulated_part:           switch_articulated_mei1800_2;
        additional_text:            return string(STR_PURCHASE_MEI1800_2);
        cargo_capacity:             switch_capacity_mei1800_2;
        purchase_cargo_capacity:    spriteset_purchase_mei1800;
    }
}

/* Define the 1850 Series (2 Car) */
item(FEAT_TRAINS, item_mei1850_2) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI1850_2);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(1996,01,01);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          130 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          75 * 8 kW;
        weight:                         34 * 4 ton;
        cargo_capacity:                 119; 
        length:                         8;
        tractive_effort_coefficient:    1;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei1850_2;
        purchase:                   spriteset_purchase_mei1850;
        cargo_subtype_text:         switch_mei1850_2_cargo_subtype_text;
        articulated_part:           switch_articulated_mei1850_2;
        additional_text:            return string(STR_PURCHASE_MEI1850_2);
        cargo_capacity:             switch_capacity_mei1850_2;
        purchase_cargo_capacity:    spriteset_purchase_mei1850;
    }
}

/* Define the 2000 Series (3 Car) */
item(FEAT_TRAINS, item_mei2000_3) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI2000_3);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(2005,01,29);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          130 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          170 * 8 kW;
        weight:                         38 * 3 ton;
        cargo_capacity:                 138;
        length:                         8;
        tractive_effort_coefficient:    0.67;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei2000_3;
        purchase:                   spriteset_purchase_mei2000;
        articulated_part:           switch_articulated_mei2000_3;
        additional_text:            return string(STR_PURCHASE_MEI2000_3);
        cargo_capacity:             switch_capacity_mei2000_3;
        purchase_cargo_capacity:    spriteset_purchase_mei2000;
    }
}

/* Define the 2000 Series (4 Car) */
item(FEAT_TRAINS, item_mei2000_4) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI2000_4);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(2005,01,29);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          130 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          170 * 8 kW;
        weight:                         38 * 4 ton;
        cargo_capacity:                 181;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei2000_4;
        purchase:                   spriteset_purchase_mei2000;
        articulated_part:           switch_articulated_mei2000_4;
        additional_text:            return string(STR_PURCHASE_MEI2000_4);
        cargo_capacity:             switch_capacity_mei2000_4;
        purchase_cargo_capacity:    spriteset_purchase_mei2000;
    }
}

/* Define the 2200 Series (6 Car) */
item(FEAT_TRAINS, item_mei2200_6) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI2200_6);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(2005,01,29);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          130 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          170 * 12 kW;
        weight:                         206 ton;
        cargo_capacity:                 95;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei2200_6;
        purchase:                   spriteset_purchase_mei2200;
        articulated_part:           switch_articulated_mei2200_6;
        additional_text:            return string(STR_PURCHASE_MEI2200_6);
        cargo_capacity:             switch_capacity_mei2200_6;
        purchase_cargo_capacity:    spriteset_purchase_mei2200;
    }
}

/* Define the 1700 Series (6 Car) */
item(FEAT_TRAINS, item_mei1700_6) {
    property {
        /* Properties common to all vehicle types */
        name:                           string(STR_NAME_MEI1700_6);
        climates_available:             bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
        introduction_date:              date(2008,12,26);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        /* retire_early not set, use default retirement behaviour */
        vehicle_life:                   30;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask(CC_MAIL);
        loading_speed:                  255;
        cost_factor:                    20;
        running_cost_factor:            20;

        /* Train-specific properties */
        sprite_id:                      SPRITE_ID_NEW_TRAIN; //enable new graphics
        speed:                          130 km/h;
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU);
        refit_cost:                     0; // Refitting is free
        /* callback_flags are not set manually */
        track_type:                     ELRL;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        power:                          180 * 12 kW;
        weight:                         204 ton;
        cargo_capacity:                 97.334;
        length:                         8;
        tractive_effort_coefficient:    0.5;
        air_drag_coefficient:           0.06;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
    }

    /* Define graphics */
    graphics {
        default:                    switch_spriteset_mei1700_6;
        purchase:                   spriteset_purchase_mei1700;
        articulated_part:           switch_articulated_mei1700_6;
        additional_text:            return string(STR_PURCHASE_MEI1700_6);
        cargo_capacity:             switch_capacity_mei1700_6;
        purchase_cargo_capacity:    spriteset_purchase_mei1700;
        cargo_subtype_text:         switch_mei1700_6_cargo_subtype_text;
    }
}